{"ast":null,"code":"import _regeneratorRuntime from\"/Users/nikhileshjadhav/Desktop/React projects/cocktail-info/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/nikhileshjadhav/Desktop/React projects/cocktail-info/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/nikhileshjadhav/Desktop/React projects/cocktail-info/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext,useEffect}from\"react\";// import { useCallback } from \"react\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";var url=\"https://www.thecocktaildb.com/api/json/v1/1/search.php?s=\";var AppContext=/*#__PURE__*/React.createContext();var AppProvider=function AppProvider(_ref){var children=_ref.children;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(\"a\"),_useState4=_slicedToArray(_useState3,2),searchTerm=_useState4[0],setSearchTerm=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),cocktails=_useState6[0],SetCocktails=_useState6[1];var fetchDrinks=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data,drinks,newCocktails;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.prev=1;_context.next=4;return fetch(\"\".concat(url).concat(searchTerm));case 4:response=_context.sent;_context.next=7;return response.json();case 7:data=_context.sent;drinks=data.drinks;if(drinks){newCocktails=drinks.map(function(item){var idDrink=item.idDrink,strDrink=item.strDrink,strDrinkThumb=item.strDrinkThumb,strAlcoholic=item.strAlcoholic,strGlass=item.strGlass;return{id:idDrink,name:strDrink,image:strDrinkThumb,info:strAlcoholic,glass:strGlass};});SetCocktails(newCocktails);}else{SetCocktails([]);}setLoading(false);_context.next=17;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](1);console.error(_context.t0);setLoading(false);case 17:case\"end\":return _context.stop();}}},_callee,null,[[1,13]]);}));return function fetchDrinks(){return _ref2.apply(this,arguments);};}();useEffect(function(){fetchDrinks();// eslint-disable-next-line\n},[searchTerm]);return/*#__PURE__*/_jsx(AppContext.Provider,{value:{loading:loading,searchTerm:searchTerm,cocktails:cocktails,setSearchTerm:setSearchTerm},children:children});};// make sure use\nexport var useGlobalContext=function useGlobalContext(){return useContext(AppContext);};export{AppContext,AppProvider};","map":{"version":3,"names":["React","useState","useContext","useEffect","url","AppContext","createContext","AppProvider","children","loading","setLoading","searchTerm","setSearchTerm","cocktails","SetCocktails","fetchDrinks","fetch","response","json","data","drinks","newCocktails","map","item","idDrink","strDrink","strDrinkThumb","strAlcoholic","strGlass","id","name","image","info","glass","console","error","useGlobalContext"],"sources":["/Users/nikhileshjadhav/Desktop/React projects/cocktail-info/src/context.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\n// import { useCallback } from \"react\";\n\nconst url = \"https://www.thecocktaildb.com/api/json/v1/1/search.php?s=\";\nconst AppContext = React.createContext();\n\nconst AppProvider = ({ children }) => {\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState(\"a\");\n  const [cocktails, SetCocktails] = useState([]);\n\n  const fetchDrinks = async () => {\n    setLoading(true);\n    try {\n      const response = await fetch(`${url}${searchTerm}`);\n      const data = await response.json();\n      const { drinks } = data;\n      if (drinks) {\n        const newCocktails = drinks.map((item) => {\n          const { idDrink, strDrink, strDrinkThumb, strAlcoholic, strGlass } =\n            item;\n          return {\n            id: idDrink,\n            name: strDrink,\n            image: strDrinkThumb,\n            info: strAlcoholic,\n            glass: strGlass,\n          };\n        });\n        SetCocktails(newCocktails);\n      } else {\n        SetCocktails([]);\n      }\n      setLoading(false);\n    } catch (err) {\n      console.error(err);\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchDrinks();\n    // eslint-disable-next-line\n  }, [searchTerm]);\n\n  return (\n    <AppContext.Provider\n      value={{\n        loading,\n        searchTerm,\n        cocktails,\n        setSearchTerm,\n      }}\n    >\n      {children}\n    </AppContext.Provider>\n  );\n};\n// make sure use\nexport const useGlobalContext = () => {\n  return useContext(AppContext);\n};\n\nexport { AppContext, AppProvider };\n"],"mappings":"mcAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,UAAU,CAAEC,SAAS,KAAQ,OAAO,CAC9D;AAAA,2CAEA,GAAMC,IAAG,CAAG,2DAA2D,CACvE,GAAMC,WAAU,cAAGL,KAAK,CAACM,aAAa,EAAE,CAExC,GAAMC,YAAW,CAAG,QAAdA,YAAW,MAAqB,IAAfC,SAAQ,MAARA,QAAQ,CAC7B,cAA8BP,QAAQ,CAAC,IAAI,CAAC,wCAArCQ,OAAO,eAAEC,UAAU,eAC1B,eAAoCT,QAAQ,CAAC,GAAG,CAAC,yCAA1CU,UAAU,eAAEC,aAAa,eAChC,eAAkCX,QAAQ,CAAC,EAAE,CAAC,yCAAvCY,SAAS,eAAEC,YAAY,eAE9B,GAAMC,YAAW,6FAAG,2KAClBL,UAAU,CAAC,IAAI,CAAC,CAAC,sCAEQM,MAAK,WAAIZ,GAAG,SAAGO,UAAU,EAAG,QAA7CM,QAAQ,qCACKA,SAAQ,CAACC,IAAI,EAAE,QAA5BC,IAAI,eACFC,MAAM,CAAKD,IAAI,CAAfC,MAAM,CACd,GAAIA,MAAM,CAAE,CACJC,YAAY,CAAGD,MAAM,CAACE,GAAG,CAAC,SAACC,IAAI,CAAK,CACxC,GAAQC,QAAO,CACbD,IAAI,CADEC,OAAO,CAAEC,QAAQ,CACvBF,IAAI,CADWE,QAAQ,CAAEC,aAAa,CACtCH,IAAI,CADqBG,aAAa,CAAEC,YAAY,CACpDJ,IAAI,CADoCI,YAAY,CAAEC,QAAQ,CAC9DL,IAAI,CADkDK,QAAQ,CAEhE,MAAO,CACLC,EAAE,CAAEL,OAAO,CACXM,IAAI,CAAEL,QAAQ,CACdM,KAAK,CAAEL,aAAa,CACpBM,IAAI,CAAEL,YAAY,CAClBM,KAAK,CAAEL,QACT,CAAC,CACH,CAAC,CAAC,CACFd,YAAY,CAACO,YAAY,CAAC,CAC5B,CAAC,IAAM,CACLP,YAAY,CAAC,EAAE,CAAC,CAClB,CACAJ,UAAU,CAAC,KAAK,CAAC,CAAC,iFAElBwB,OAAO,CAACC,KAAK,aAAK,CAClBzB,UAAU,CAAC,KAAK,CAAC,CAAC,qEAErB,kBA3BKK,YAAW,2CA2BhB,CAEDZ,SAAS,CAAC,UAAM,CACdY,WAAW,EAAE,CACb;AACF,CAAC,CAAE,CAACJ,UAAU,CAAC,CAAC,CAEhB,mBACE,KAAC,UAAU,CAAC,QAAQ,EAClB,KAAK,CAAE,CACLF,OAAO,CAAPA,OAAO,CACPE,UAAU,CAAVA,UAAU,CACVE,SAAS,CAATA,SAAS,CACTD,aAAa,CAAbA,aACF,CAAE,UAEDJ,QAAQ,EACW,CAE1B,CAAC,CACD;AACA,MAAO,IAAM4B,iBAAgB,CAAG,QAAnBA,iBAAgB,EAAS,CACpC,MAAOlC,WAAU,CAACG,UAAU,CAAC,CAC/B,CAAC,CAED,OAASA,UAAU,CAAEE,WAAW"},"metadata":{},"sourceType":"module"}